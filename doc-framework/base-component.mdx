---
title: ç»„ä»¶åŸºç¡€:ç»„ä»¶ç»“æ„
index: 1
date: 2023/01/05
---

# ç»„ä»¶åŸºç¡€

- å‰ç«¯å¼€å‘æ™®éé‡‡ç”¨ã€Œç»„ä»¶ã€ä½œä¸ºã€ŒçŠ¶æ€ä¸ UI çš„æ¾æ•£è€¦åˆå•å…ƒã€ï¼Œ
- Angular ä½¿ç”¨ NgModule æ¥ç»„ç»‡ç»„ä»¶, Angular 14 æä¾›äº† standalone æ¥ç®€åŒ–è¿™ä¸€è¿‡ç¨‹


## ç»„ä»¶ç»“æ„

### Angular

è¿è¡Œ `ng generate component <component-name>` ä¼šç”Ÿæˆå¦‚ä¸‹æ–‡ä»¶

```bash
<component-name>/
  - <component-name>.component.ts
  - <component-name>.component.css
  - <component-name>.component.html
  - <component-name>.component.spec.ts
```

ä¸€ä¸ªæœ€å°åŒ–çš„ Angular ç»„ä»¶ç»“æ„å¦‚ä¸‹ï¼š

- ä¸€ä¸ª HTML æ¨¡æ¿ï¼Œç”¨äºå£°æ˜é¡µé¢è¦æ¸²æŸ“çš„å†…å®¹
- ä¸€ä¸ªç”¨äºå®šä¹‰è¡Œä¸ºçš„ TypeScript ç±»
- ä¸€ä¸ª CSS é€‰æ‹©å™¨ï¼Œç”¨äºå®šä¹‰ç»„ä»¶åœ¨æ¨¡æ¿ä¸­çš„ä½¿ç”¨æ–¹å¼
- è¦åº”ç”¨åœ¨æ¨¡æ¿ä¸Šçš„ CSS æ ·å¼(å¯é€‰)

<CH.Code>

```ts
import { Component } from '@angular/core'

@Component({
  selector: 'hello-world',
  template: `
    <h2>Hello World</h2>
    <p>This is my first component!</p>
  `,
  styles: ['h2 { color: red; }'],
})
export class HelloWorldComponent {
  // The code in this class drives the component's behavior.
}
```

</CH.Code>

å¯¹äº angular ï¼Œä½ å¯ä»¥é€‰æ‹©å†…è” template/css ï¼Œä¹Ÿå¯ä»¥é€‰æ‹©å¤–éƒ¨ template/css

<CH.Code>

```ts app.component.ts
import { Component } from '@angular/core'

@Component({
  selector: 'hello-world',
  templateUrl: './app.component.html',
  styleUrls: ['./app.component.css'],
})
export class HelloWorldComponent {
  // The code in this class drives the component's behavior.
}
```

```html app.component.html
<h2>Hello World</h2>
<p>This is my first component!</p>
```

```css app.component.css
h2 {
  color: red;
}
```

</CH.Code>

### Vue

vue ä½¿ç”¨ SFC ä½œä¸ºç»„ä»¶ç»“æ„ï¼ŒSFC (Single-File Component,å•æ–‡ä»¶ç»„ä»¶)ï¼ŒåŒ…å«äº† templateã€scriptã€style ä¸‰ä¸ªéƒ¨åˆ†

```vue
<script setup>
const attributeName = 'href'
const url = 'https://'
</script>

<template>
  <h2>Hello World</h2>
  <p>This is my first component!</p>
</template>

<style>
h2 {
  color: red;
}
</style>
```

å¦‚æœä½ æ›´å–œæ¬¢å°† \*.vue ç»„ä»¶åˆ†æ•£åˆ°å¤šä¸ªæ–‡ä»¶ä¸­ï¼Œå¯ä»¥ä¸ºä¸€ä¸ªè¯­å—ä½¿ç”¨ src è¿™ä¸ª attribute æ¥å¯¼å…¥ä¸€ä¸ªå¤–éƒ¨æ–‡ä»¶

<CH.Code>

```vue app.vue
<template src="./template.html"></template>
<style src="./style.css"></style>
<script src="./script.js"></script>
```

</CH.Code>

### React

react ä½¿ç”¨ jsx ä½œä¸ºç»„ä»¶ç»“æ„ï¼Œjsx æ˜¯ä¸€ç§è¯­æ³•ç³–ï¼Œå¯ä»¥è®©æˆ‘ä»¬åœ¨ js ä¸­ä¹¦å†™ html

<CH.Code>

```jsx
import './style.css'

function App() {
  return (
    <>
      <h2>Hello World</h2>
      <p>This is my first component!</p>
    </>
  )
}
```

```css style.css
h2 {
  color: red;
}
```

</CH.Code>

## ç»„ä»¶çš„æ³¨å†ŒåŠä½¿ç”¨

### Vue

ä¸€ä¸ª Vue ç»„ä»¶åœ¨ä½¿ç”¨å‰éœ€è¦å…ˆè¢«â€œæ³¨å†Œâ€ï¼Œè¿™æ · Vue æ‰èƒ½åœ¨æ¸²æŸ“æ¨¡æ¿æ—¶æ‰¾åˆ°å…¶å¯¹åº”çš„å®ç°ã€‚ç»„ä»¶æ³¨å†Œæœ‰ä¸¤ç§æ–¹å¼ï¼šå…¨å±€æ³¨å†Œå’Œå±€éƒ¨æ³¨å†Œ

- å…¨å±€æ³¨å†Œ

<CH.Code>

```js main.js
import { createApp } from 'vue'
import MyComponent from './App.vue'

const app = createApp({})

app.component(MyComponent)
```

</CH.Code>

- å±€éƒ¨æ³¨å†Œ

<CH.Code>

```vue App.vue
<script setup>
import ComponentA from './ComponentA.vue'
</script>

<template>
  <ComponentA />
</template>
```

```vue AppWithoutSetup.vue
<script>
import ComponentA from './ComponentA.vue'

export default {
  components: {
    ComponentA,
  },
  setup() {
    // ...
  },
}
</script>
```

</CH.Code>

### React

<CH.Code>

```js
import ComponentA from './ComponentA.js'

function App() {
  return <ComponentA />
}
```

</CH.Code>

### Angular

#### NgModule

Angular v14 ä¹‹å‰ï¼Œç»„ä»¶çš„ â€œæ³¨å†Œâ€ éœ€è¦ä½¿ç”¨ Angular çš„æ¨¡å—ç³»ç»Ÿ
[`NgModule`](https://v2.angular.cn/docs/ts/latest/guide/ngmodule.html)

- `NgModule` æ˜¯ Angular ç”¨æ¥ç»„ç»‡å†…éƒ¨æ¨¡å—çš„ä¸€ç§æ–¹å¼
- æ¯ä¸ª Angular åº”ç”¨éƒ½è‡³å°‘æœ‰ä¸€ä¸ª `NgModule`ï¼Œé€šå¸¸è¢«ç§°ä¸º `AppModule`
- ä¸€ä¸ª `NgModule` åŒ…å«äº†ä¸€ç»„ç»„ä»¶ã€æŒ‡ä»¤ã€ç®¡é“ã€æœåŠ¡ç­‰ï¼Œå®ƒä»¬å¯ä»¥è¢«å…¶ä»–æ¨¡å—å¼•ç”¨ï¼Œä¹Ÿå¯ä»¥è¢«å…¶ä»–æ¨¡å—å¼•ç”¨
- æ ¹æ¨¡å—åœ¨ä¸€äº›å°å‹åº”ç”¨ä¸­å¯èƒ½æ˜¯å”¯ä¸€çš„æ¨¡å—ï¼Œå¤§å¤šæ•°åº”ç”¨ä¼šæœ‰å¾ˆå¤šç‰¹æ€§æ¨¡å—ï¼Œæ¯ä¸ªæ¨¡å—éƒ½æ˜¯ä¸€ä¸ªå†…èšçš„ä»£ç å—ä¸“æ³¨äºæŸä¸ªåº”ç”¨é¢†åŸŸã€å·¥
  ä½œæµæˆ–ç´§å¯†ç›¸å…³çš„åŠŸèƒ½ã€‚
- Angular æ¨¡å—éƒ½æ˜¯ä¸€ä¸ªå¸¦æœ‰ `@NgModule` è£…é¥°å™¨çš„ç±»

[NgModule Api](https://angular.cn/api/core/NgModule)

<CH.Code>

```ts app/app.module.ts
import { NgModule } from '@angular/core'
import { BrowserModule } from '@angular/platform-browser'

import { AppRoutingModule } from './app-routing.module'
import { AppComponent } from './app.component'

@NgModule({
  declarations: [AppComponent],
  imports: [BrowserModule, AppRoutingModule],
  providers: [],
  bootstrap: [AppComponent],
})
export class AppModule {}
```

```ts main.ts
import { platformBrowserDynamic } from '@angular/platform-browser-dynamic'

import { AppModule } from './app/app.module'

platformBrowserDynamic()
  .bootstrapModule(AppModule)
  .catch((err) => console.error(err))
```

</CH.Code>

ä¸¾ä¸ª ğŸŒ°

æˆ‘ä»¬æœ‰ä¸€ä¸ª hello ç»„ä»¶

```ts src/app/hello/hello.component.ts
import { Component } from '@angular/core'

@Component({
  selector: 'app-hello',
  template: `<h2>Hello World</h2>`,
})
export class HelloComponent {}
```

åœ¨ä½¿ç”¨çš„ Module ä¸­å¯¼å…¥è¿™ä¸ªç»„ä»¶

```ts app/app.module.ts
// ...
import { HelloComponent } from './hello/hello.component'

@NgModule({
  declarations: [AppComponent, HelloComponent],
  imports: [BrowserModule, AppRoutingModule],
  providers: [],
  bootstrap: [AppComponent],
})
export class AppModule {}
```

åœ¨ä½¿ç”¨ `ng generate component` å‘½ä»¤åˆ›å»ºç»„ä»¶æ—¶ï¼ŒAngular ä¼šè‡ªåŠ¨å°†ç»„ä»¶æ³¨å†Œåˆ° `app.module.ts` ä¸­

NgModule çš„å‚æ•°:

- `declarations`ï¼šç”¨äºå£°æ˜æœ¬æ¨¡å—ä¸­æ‹¥æœ‰çš„è§†å›¾ç±»ï¼ŒAngular æœ‰ä¸‰ç§è§†å›¾ç±»ï¼šç»„ä»¶ã€æŒ‡ä»¤å’Œç®¡é“ã€‚

#### standalone

åœ¨ v14 åŠæ›´é«˜ç‰ˆæœ¬ä¸­ï¼Œ[ç‹¬ç«‹ç»„ä»¶](https://angular.cn/guide/standalone-components)æä¾›äº†ä¸€ç§ç®€åŒ–çš„æ–¹å¼æ¥æ„å»º Angular åº”ç”¨ç¨‹
åºã€‚

é€šè¿‡è¿™ç§æ–¹å¼ï¼Œå¯ä»¥ç¼–å†™ç‹¬ç«‹ç»„ä»¶ï¼Œè€Œæ— éœ€åˆ›å»º NgModule æ¥ç®¡ç†æ¨¡æ¿ä¾èµ–é¡¹ã€‚

<CH.Code>

```ts app.component.ts
import { HelloComponent } from './hello/hello.component'

@Component({
  standalone: true,
  selector: 'app-root',
  template: `<hello></hello>`,
  // HelloComponent ä¹Ÿå¿…é¡»æ˜¯ standalone ç»„ä»¶
  imports: [HelloComponent],
})
export class AppComponent {}
```

```ts hello.component.ts
import { Component } from '@angular/core'

@Component({
  standalone: true,
  selector: 'app-hello',
  template: `<h2>Hello World</h2>`,
})
export class HelloComponent {}
```

</CH.Code>

## å…¶ä»–

- åŠ¨æ€ç»„ä»¶
- æ‡’åŠ è½½
